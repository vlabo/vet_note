<ion-content>
  <ion-item>
    <ion-searchbar #searchbar name="search" (ionInput)="onSearch($event)"></ion-searchbar>
    <ion-button fill="clear" color="dark" (click)="openSettings()">
      <ion-icon name="settings"></ion-icon>
    </ion-button>
  </ion-item>
  <ion-fab slot="fixed" vertical="bottom" horizontal="end">
    <ion-fab-button (click)="newPatient()">
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
  </ion-fab>
  <ion-grid>
    <ion-row *ngFor="let p of filteredPatients" (click)="goToPatient(p.id)" class="patient-row" button>
      <ion-col size="2">
        <ion-label class="wrap-text">{{ p.type }}</ion-label>
      </ion-col>
      <ion-col>
        <fa-icon [icon]="minus" class="ion-margin-end"></fa-icon>
        <ion-label><div [innerHTML]="p.name"></div></ion-label>
      </ion-col>
      <ion-col>
        <fa-icon [icon]="user" class="ion-margin-end"></fa-icon>
        <ion-label><div [innerHTML]="p.owner"></div></ion-label>
      </ion-col>
      <ion-col *ngIf="p.chipId">
        <fa-icon [icon]="microchip" class="ion-margin-end"></fa-icon>
        <ion-label [innerHTML]="p.chipId"></ion-label>
      </ion-col>
      <ion-col *ngIf="p.phone">
        <fa-icon [icon]="phone" class="ion-margin-end"></fa-icon>
        <ion-label [innerHTML]="p.phone"></ion-label>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>